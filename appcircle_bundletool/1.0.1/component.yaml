platform: Android
buildPlatform:
displayName: Bundle Universal Apk
description: "Generates an universal APK from an AAB"
docsUrl: https://docs.appcircle.io/workflows/android-specific-workflow-steps/#bundle-universal-apk
requiredComponents:
precedingComponents: "appcircle_android_sign"
followingComponents: "appcircle_export_build_artifacts"
webUrl: https://github.com/appcircleio/appcircle-bundletool-component
repoUrl: https://github.com/appcircleio/appcircle-bundletool-component.git
commit: 6c59bdd
inputs:
- key: "AC_BUNDLETOOL_VERSION"
  title: "Bundletool version"
  defaultValue: "1.11.2"
  isRequired: true
  description: Bundletool version to install.
  helpText:
- key: "AC_SIGNED_AAB_PATH"
  title: "Signed AAB Path"
  isRequired: true
  defaultValue: "$AC_SIGNED_AAB_PATH"
  description: Path of the signed aab file.
  helpText:
- key: "AC_ANDROID_KEYSTORE_PATH"
  title: "Android Keystore Path"
  defaultValue: "$AC_ANDROID_KEYSTORE_PATH"
  description: (Autogenerated) Keystore file can be selected in the build settings.
  helpText: This value is autogenerated according to the build settings.
- key: "AC_ANDROID_KEYSTORE_PASSWORD"
  title: "Android Keystore Password"
  defaultValue: "$AC_ANDROID_KEYSTORE_PASSWORD"
  description: This value is autogenerated according to the build settings. 
  helpText: 
- key: "AC_ANDROID_ALIAS"
  title: "Android Alias"
  defaultValue: "$AC_ANDROID_ALIAS"
  description: This value is autogenerated according to the build settings. 
  helpText:
- key: "AC_ANDROID_ALIAS_PASSWORD"
  title: "Android Alias Password"
  defaultValue: "$AC_ANDROID_ALIAS_PASSWORD"
  description: This value is autogenerated according to the build settings. 
  helpText:
outputs:
- key: "AC_SIGNED_APK_PATH"
  title: Signed APK Path
  defaultValue: "$AC_SIGNED_APK_PATH"
  description: "Path of the signed apk file."
  helpText:
processFilename: ruby
processArguments: '%AC_STEP_TEMP%/main.rb'
files:
- "main.rb"